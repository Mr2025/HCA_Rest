////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
// EXPRESS
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

const express = require('express');
const router = express.Router();

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
// ROUTE ENDPOINTS
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

const FlagRoute =  require('./routes/flag.js');
const DeviceRoute = require('./routes/device.js');

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
// WEB ROUTES
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
const flag = new FlagRoute();
const device = new DeviceRoute();
//router.get  ('/',                           (req,res,next)=>{});						// Noop @ home path
router.get  ('/flag/:flag',                 flag.processGet); 						    // GetFlag with name (:flag)
router.post ('/flag/:flag/:value',          flag.processPost);						    // postFlag with value(:value)

router.get  ('/device/:device',             device.processGet); 						// GetDevice with name (:flag)
router.post ('/device/:device/:value',      device.processPost);						// postDevice with value(:value)


module.exports = router;
